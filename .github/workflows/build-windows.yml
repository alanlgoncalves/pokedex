name: Build Windows Test

on:
  workflow_dispatch:

jobs:
  build_windows:
    name: ğŸªŸ Build Windows
    runs-on: windows-latest
    steps:
      - name: ğŸ“±ï¸Setup Flutter
        uses: subosito/flutter-action@v2
        with:
          flutter-version: '3.3.2'
          channel: 'stable'
      - name: ğŸšš Get latest code
        uses: actions/checkout@v2
      - name: ğŸ§¹ Clean
        run: flutter clean
      - name: â¬‡ï¸ Get dependencies
        run: flutter pub get
      - name: ğŸªŸ Build Windows
        run: |
          flutter build windows
      - name: Archive Release
        uses: thedoctor0/zip-release@main
        with:
          path: build/windows/runner/Release/
          type: 'zip'
          filename: 'pokedex-windows.zip'
      - name: â¬†ï¸ Upload Windows artifact
        uses: actions/upload-artifact@v3
        with:
          name: pokedex-windows.zip
          path: pokedex-windows.zip
